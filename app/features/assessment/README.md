# 测评分析功能模块

## 目录结构
app/
  features/
    assessment/
      README.md
      components/     # 测评相关组件
         step1/   #基础信息
         step2/   #个性特征步骤
         step3/   #伴侣期望步骤
         step4/   #结果展示步骤
         stepNav/ #步骤导航
      hooks/         # 自定义hooks
      utils/         # 测评相关工具函数
      types/         # 测评相关类型定义

## 功能概述
作为AI恋爱/婚姻契合度预测平台的核心功能,测评分析系统通过科学的问卷和AI分析,帮助用户深入了解自己与伴侣的契合程度。

### 核心特点
1. 科学性
   - 基于心理学理论设计题目
   - 多维度人格特征分析
   - AI 深度学习模型支持

2. 易用性
   - 清晰的步骤引导
   - 友好的界面交互
   - 直观的进度展示

3. 专业性
   - 维度全面的分析报告
   - 个性化的改善建议
   - 可视化的数据图表

## 页面结构详解

### 1. 基础信息收集 (step1)
- 个人基本信息
  * 年龄段选择 (18-24,25-30,31-35,36-40,40+)
  * 性别选择
  * 职业领域 (可多选)
  * 教育背景
- 感情状况
  * 当前状态 (单身/恋爱中/已婚)
  * 恋爱经历
  * 期待的关系类型
- 测评目标设定
  * 寻找潜在伴侣
  * 评估当前关系
  * 婚前评估
  * 婚姻关系改善
- 隐私政策确认
  * 数据使用说明
  * 隐私保护承诺
  * 用户授权确认

### 2. 个性特征测评 (step2)
- 性格特征题组 (5-7题)
  * MBTI性格维度测试
  * 情感表达方式评估
  * 社交倾向分析
- 价值观念题组 (5-7题)
  * 人生目标取向
  * 家庭观念评估
  * 金钱观测试
- 生活习惯题组 (5-6题)
  * 作息规律评估
  * 生活方式偏好
  * 兴趣爱好调研
- 实时进度展示
  * 完成度百分比
  * 剩余题目提示
  * 预计剩余时间

### 3. 伴侣期望调研 (step3)
- 理想伴侣特质
  * 性格特征偏好
  * 生活习惯要求
  * 价值观契合度
- 关系期待程度
  * 感情投入意愿
  * 未来规划同步性
  * 共同成长意愿
- 可接受度测评
  * 差异容忍度
  * 矛盾处理方式
  * 妥协意愿度
- 重要性权重设置
  * 各维度优先级
  * 核心诉求标记
  * 灵活度设置

### 4. 结果展示界面 (step4)
- 总体契合度评分
  * 百分制综合得分
  * 评分等级说明
  * 同群体对比
- 分维度对比分析
  * 雷达图展示
  * 优势项说明
  * 潜在风险提示
- 潜在问题提示
  * 关键差异点
  * 发展建议
  * 改善方向
- 改善建议生成
  * 短期行动计划
  * 长期发展建议
  * 具体实践方法
- 分享功能入口
  * 结果截图生成
  * 社交媒体分享
  * 保存至本地

## 技术实现详解

### 1. 状态管理
- 使用 React Context 管理全局状态
  * AssessmentContext 结构设计
  ```typescript
  interface AssessmentState {
    currentStep: number;
    formData: FormData;
    progress: Progress;
    results: Results;
  }
  ```
  * 状态更新方法定义
  * 状态持久化方案
- 步骤间数据共享与传递
  * 状态提升策略
  * Props 透传规范
  * 事件处理统一
- 表单状态实时验证
  * 字段级验证规则
  * 表单级验证逻辑
  * 错误提示管理
- 进度保存与恢复
  * LocalStorage 存储策略
  * 会话恢复机制
  * 数据过期处理

### 2. 数据处理
- 表单数据收集与验证
  * 数据模型设计
  * 验证规则配置
  * 错误处理流程
- 评分算法实现
  * 维度权重计算
  * 匹配度算法
  * 结果归一化
- 结果数据格式化
  * 数据聚合处理
  * 展示格式转换
  * 缓存策略
- 本地存储处理
  * 存储结构设计
  * 数据加密方案
  * 清理机制

## 开发规范详解

### 1. 组件开发规范
- TypeScript 类型定义
  ```typescript
  // 组件 Props 接口示例
  interface StepProps {
    current: number;
    total: number;
    onNext: (data: StepData) => void;
    onPrev: () => void;
  }
  ```
- 组件命名规范
  * 文件名: PascalCase
  * 组件名: PascalCase
  * 实例名: camelCase
- 目录组织规范
  * 按功能模块分组
  * 组件独立目录
  * 共享资源管理

### 2. 代码风格规范
- 文件组织
  * 导入顺序规范
  * 组件结构规范
  * 注释规范
- 命名规范
  * 变量命名规则
  * 函数命名规则
  * 常量命名规则
- 代码格式
  * 缩进规则
  * 空行使用
  * 括号规范

## 注意事项

### 1. 性能考虑
- 控制首屏加载时间
- 优化表单交互响应
- 减少不必要的重渲染
- 图片资源按需加载

### 2. 用户体验
- 完善的错误提示
- 友好的加载状态
- 合理的步骤引导
- 适当的操作反馈

### 3. 数据安全
- 用户信息加密存储
- 隐私数据脱敏处理
- 表单数据验证
- 防止信息泄露

## 开发计划

### MVP阶段
- [x] 基础框架搭建
- [ ] 步骤导航组件
- [ ] 基础信息表单
- [ ] 个性测评问卷
- [ ] 简单结果展示

### 后续迭代
- [ ] 高级分析算法
- [ ] 完整结果报告
- [ ] 数据可视化优化
- [ ] 分享功能实现